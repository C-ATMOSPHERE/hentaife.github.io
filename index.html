<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>hentaife</title>
  <style type="text/css">
  html,body{
      margin: 0;
      width: 100%;
      height: 100%;
  }
  #canvas{
      display: block;
  }
  .main {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    margin: auto;
    width: 660px;
    height: 660px;
  }

  @keyframes show-in {
    from {
      opacity: 0;
      transform: rotate(-10deg);
    }

    to {
      opacity: 1;
      transform: rotate(0deg);
    }
  }

  .lines {
    width: 300px;
    height: 521px;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    margin: auto;
    animation: show-in 0.4s;
    transform-origin: 50%;
  }

  .line-box {
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    position: absolute;
    transform-origin: 50%;
    border: 1px solid #eee;
    border-left: 0;
    border-right: 0;
  }

  .line-box:nth-child(1) {
    transform: rotate(0deg);
  }
  .line-box:nth-child(2) {
    transform: rotate(30deg);
  }
  .line-box:nth-child(3) {
    transform: rotate(60deg);
  }
  .line-box:nth-child(4) {
    transform: rotate(90deg);
  }
  .line-box:nth-child(5) {
    transform: rotate(120deg);
  }
  .line-box:nth-child(6) {
    transform: rotate(150deg);
  }

  .avatar {
    position: absolute;
    z-index: 100;
  }

  .avatar .star {
    width: 60px;
    height: 60px;
    border-radius: 60px;
    overflow: hidden;
    cursor: pointer;
    border: 0;
    transition: all 0.3s ease;
    box-sizing: border-box;
    background: #f4f4f4;
    display: inline-block;
  }

  .avatar .star:hover {
    border: 2px solid #fff;
    transform: scale(1.1);
  }

  .avatar .card {
    position: absolute;
    opacity: 0;
  }

  .avatar img {
    width: 100%;
    height: 100%;
  }

  .avatars-wrapper {
    width: 100%;
    height: 100%;
  }

  .avatar-box {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    margin: auto;
    width: 100%;
    height: 100%;
  }

  .avatar-box:nth-child(1) {
    width: 581px;
    height: 360px;
  }

  .avatar-box:nth-child(3) {
    width: 360px;
    height: 581px;
  }

  .avatar:nth-child(1) {
    left: 0;
    top: 0;
  }

  .avatar:nth-child(2) {
    right: 0;
    top: 0;
  }

  .avatar:nth-child(3) {
    left: 0;
    bottom: 0;
  }

  .avatar:nth-child(4) {
    right: 0;
    bottom: 0;
  }

  .avatar-box:nth-child(2) .avatar:nth-child(1) {
    top: 50%;
    margin-top: -30px;
  }

  .avatar-box:nth-child(2) .avatar:nth-child(2) {
    left: 50%;
    margin-left: -30px;
  }

  .avatar-box:nth-child(2) .avatar:nth-child(3) {
    left: 50%;
    margin-left: -30px;
  }

  .avatar-box:nth-child(2) .avatar:nth-child(4) {
    top: 50%;
    margin-top: -30px;
  }

  .info {
    position: absolute;
    box-sizing: border-box;
    overflow: hidden;
    left: 140px;
    top: 140px;
    padding: 40px;
    width: 380px;
    height:380px;
    text-indent: 2em;
    text-align: center;
    line-height: 1.5;
  }
  </style>
</head>
<body>
<div class="main initial" id="main">

  <div class="lines">
    <div class="line-box"></div>
    <div class="line-box"></div>
    <div class="line-box"></div>
    <div class="line-box"></div>
    <div class="line-box"></div>
    <div class="line-box"></div>
  </div>

  <div class="avatars-wrapper">
    <div class="avatar-box">
      <div class="avatar">

        <span class="star">
          <img src="images/meowtec.jpg" alt="黑猫">
        </span>
        <div class="card">
          大家好，我是黑猫！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/Dreamacro.jpg" alt="烫烫">
        </span>
        <div class="card">
            大家好，我是烫烫！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/nighting.jpg" alt="九九">
        </span>
        <div class="card">
            大家好，我是九九！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/kk.jpg" alt="困困">
          </span>
        <div class="card">
            大家好，我是困困！
        </div>

      </div>
    </div>
    <div class="avatar-box">
      <div class="avatar">

        <span class="star">
          <img src="images/ihindng.jpg" alt="乃乃">
        </span>
        <div class="card">
            大家好，我是乃乃！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/Okiilemon.jpg" alt="Okiilemon">
        </span>
        <div class="card">
            大家好，我是小涵！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/xiaoxiang.jpg" alt="xiaoxiang">
        </span>
        <div class="card">
          大家好，我是潇湘！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/yangmls.jpg" alt="yangmls">
        </span>
        <div class="card">
            大家好，我是杨叔叔！
        </div>

      </div>
    </div>
    <div class="avatar-box">
      <div class="avatar">

        <span class="star">
          <img src="images/tinybox.jpg" alt="箱子">
        </span>
        <div class="card">
            大家好，我是箱子！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/creeper.jpg" alt="creeper">
        </span>
        <div class="card">
            大家好，我是creeper！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/candy.jpg" alt="candy">
        </span>
        <div class="card">
            大家好，我是candy！
        </div>

      </div>
      <div class="avatar">

        <span class="star">
          <img src="images/chyancheng.jpg" alt="芊芊">
        </span>
        <div class="card">
            大家好，我是芊芊！
        </div>

      </div>
    </div>
  </div>
    <div id="info" class="info">

    </div>

</div>
<canvas id="canvas"></canvas>
<script>
var timer;
/*定义随机颜色*/
var color = ['#9FE0F6', '#F29C9C', '#42A881', '#AE7BB3', '#B7F0BB', '#91BBF2', '#F39894', '#363940', '#979DA6', '#B2DBCD'];
var info = document.getElementById('info');
var avatarsWrapper = document.getElementsByClassName('avatars-wrapper')[0];

function addEvent(element, type, listener) {
    type = type.replace(/^on/i, '').toLowerCase();

    var realListener = function(e) {
        if (typeof listener === 'function') {
            listener.call(element, e);
        }
    };

    if (element.addEventListener) {
        element.addEventListener(type, realListener, false);
    }
    else if (element.attachEvent) {
        element.attachEvent('on' + type, realListener);
    }
}

function trim(str) {

    var trimer = new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)", "g");

    return String(str).replace(trimer, "");

}

function showInfo(event) {
    var event = event || window.event;
    var target = event.target || event.srcElement;

    if (target.nodeName.toUpperCase() === 'IMG') {
        var str = target.parentNode.parentNode.getElementsByClassName('card')[0].innerHTML;
        showOneByOne(str);
        info.style.color = color[Math.floor(Math.random() * 10)];
    }
}

function initInfo() {
    showOneByOne('');
}

function showOneByOne(str){
    var i = 0;
    str = trim(str);

    if(timer) {
        clearTimeout(timer);
    }
    
    var show = function() {
      info.innerHTML = (str.slice(0,i++));
      if(i <= str.length) {
          timer = setTimeout(show, 150);
      }
    };
    
    show();
}
addEvent(avatarsWrapper, 'mouseover', showInfo);
addEvent(avatarsWrapper, 'mouseout', initInfo);
</script>
<script src="js/background.js"></script>
</body>
</html>